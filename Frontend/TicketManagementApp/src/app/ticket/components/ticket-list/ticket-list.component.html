<div class="tickets-wrapper">
    <div class="container mt-3 ">

        <!-- Display success message -->
        <!-- <div *ngIf="message" class="alert alert-success">
          {{ message }}
        </div> -->
    
        <!-- Display error messages if any -->
        <!-- <div *ngIf="errors && errors.General" class="alert alert-danger">
          <ul>
            <li *ngFor="let error of errors.General">{{ error }}</li>
          </ul>
        </div> -->
    
    
        <!-- Filter and Sort Controls -->
    
        <div class="row mb-3">
            <div class="col-md-4">
              <label for="filterStatus" class="form-label">Filter by Status:</label>
              <select id="filterStatus" [(ngModel)]="filterStatus" (change)="filterTickets()" class="form-select">
                <option value="All">All</option>
                <option value="Open">Open</option>
                <option value="Closed">Closed</option>
              </select>
            </div>
          </div>
          
          <table class="table table-bordered table-hover table-responsive table-fixed">
            <thead class="table-success">
              <tr>
                <th style="width: 10%;"  (click)="sortTickets('ticketId')">
                  Ticket Id
                  <span *ngIf="sortField === 'ticketId'">{{ sortDirection === 'asc' ? 'ðŸ”¼' : 'ðŸ”½' }}</span>
                </th>
                <th style="width: 30%;"  (click)="sortTickets('description')">
                  Description
                  <span *ngIf="sortField === 'description'">{{ sortDirection === 'asc' ? 'ðŸ”¼' : 'ðŸ”½' }}</span>
                </th>
                <th style="width: 10%;"  (click)="sortTickets('status')">
                  Status
                  <span *ngIf="sortField === 'status'">{{ sortDirection === 'asc' ? 'ðŸ”¼' : 'ðŸ”½' }}</span>
                </th>
                <th style="width: 20%;"  (click)="sortTickets('createdDate')">
                  Created Date
                  <span *ngIf="sortField === 'createdDate'">{{ sortDirection === 'asc' ? 'ðŸ”¼' : 'ðŸ”½' }}</span>
                </th>
                <th style="width: 30%;">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let ticket of filteredTickets">
                <td>{{ ticket.ticketId }}</td>
                <td>{{ ticket.description }}</td>
                <td>{{ ticket.status }}</td>
                <td>{{ ticket.createdDate | date: 'MMM-dd-yyyy' }}</td>
                <td><a href="#">Update</a> <a href="#">Delete</a></td>
              </tr>
            </tbody>
            <tfoot>
                <tr class="border">
                    <div class="add-ticket">
                        <button class="btn btn-success">Add New</button>
                    </div>
                </tr>
                
            </tfoot>
          </table>
    
       
    
        <!-- Pagination Controls -->
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <li class="page-item" [class.disabled]="currentPage === 1">
                    <a class="page-link" (click)="prevPage()" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li class="page-item" [class.disabled]="currentPage === totalPages">
                    <a class="page-link" (click)="nextPage()" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    
        <div class="text-center">
            Page {{ currentPage }} of {{ totalPages }} (Total Tickets: {{ totalCount }})
        </div>
    
    
    </div>
</div>